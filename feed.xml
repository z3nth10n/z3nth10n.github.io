<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
	<channel>
		<title>{ z3nth10n }</title>
        
        
		<description>
            
            Blog and website of z3nth10n, blogging mainly for tech.
        
        </description>
        
		<link>https://z3nth10n.github.io</link>
        
		<atom:link href="https://z3nth10n.github.io/en/feed.xml" rel="self" type="application/rss+xml" />
		
            
                <item>
                    <title>Jekyll-ga-v2 a plugin to get Google Analytics data into your site</title>
                    
                    
                        <description>&lt;p&gt;In this post I will explain how to use the plugin called &lt;strong&gt;jekyll-ga-v2&lt;/strong&gt;. I created this plugin to be able to implement a widget that shows information that Google Analytics can offer to us.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Requires Ruby 2.5+ and Jekyll 3.8+&lt;/p&gt;

&lt;h2 id=&quot;what-is-this-used-for&quot;&gt;What is this used for?&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;A Jekyll plugin that downloads Google Analytics data and adds it to your Jekyll website. The Google Analytics metric is added to each post/page’s metadata and is accessible as &lt;code class=&quot;highlighter-rouge&quot;&gt;page.stats&lt;/code&gt;. It can be printed in a template.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;This plugin requires three Ruby gems:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;gem &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;chronic
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;gem &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;google-api-client
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;gem &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;googleauth
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add this line to your site’s Gemfile:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'jekyll-ga-v2'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;set-up-a-service-account-for-the-google-data-api&quot;&gt;Set up a service account for the Google data API&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Go to https://code.google.com/apis/console/b/0/ and create a new  project.&lt;/li&gt;
  &lt;li&gt;Turn on the Analytics API and accept the terms of service&lt;/li&gt;
  &lt;li&gt;Go to &lt;code class=&quot;highlighter-rouge&quot;&gt;API Access&lt;/code&gt; on the left sidebar menu, create a new oauth 2.0 client ID, give your project a name, and click &lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Select Application type: &lt;code class=&quot;highlighter-rouge&quot;&gt;Service account&lt;/code&gt;, and click &lt;code class=&quot;highlighter-rouge&quot;&gt;Create client ID&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;note the private key’s password. It will probably be &lt;code class=&quot;highlighter-rouge&quot;&gt;notasecret&lt;/code&gt; unless Google changes something. You’ll need to use this value to decrypt the PCKS12 file (later explanined).&lt;/li&gt;
  &lt;li&gt;Download the private key. Save this file because you can only download it once.&lt;/li&gt;
  &lt;li&gt;Note the &lt;code class=&quot;highlighter-rouge&quot;&gt;Email address&lt;/code&gt; for the Service account. You’ll need this for your configuration settings and in the next step.&lt;/li&gt;
  &lt;li&gt;Log into Google Analytics and add the service account email address as a user of your Google Analytics profile: From a report page, &lt;code class=&quot;highlighter-rouge&quot;&gt;Admin &amp;gt; select a profile &amp;gt; Users &amp;gt; New User&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;configuration-of-the-environment-variables&quot;&gt;Configuration of the environment variables&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/googleapis/google-auth-library-ruby#example-environment-variables&quot;&gt;GoogleAuth needs the following environment variables to work.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is an easy way to implement this using CircleCI (maybe you are using similar to deploy your Jekyll website). If you’re not familiar with CircleCI you’ll need to read carefully this post on my blog about “&lt;a href=&quot;https://z3nth10n.github.io/en/2019/03/20/jekyll-plugin-issue-with-github-pages&quot;&gt;How To Use Any Jekyll Plugins on GitHub Pages with CircleCI&lt;/a&gt;”.&lt;/p&gt;

&lt;p&gt;Once you implement it, you’ll need to go to your &lt;a href=&quot;https://circleci.com/dashboard&quot;&gt;CircleCI dashboard&lt;/a&gt; search your project settings and go under “&lt;strong&gt;Organization &amp;gt; Contexts&lt;/strong&gt;” and create &lt;a href=&quot;https://circleci.com/docs/2.0/contexts/&quot;&gt;a new Context&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Look at my website &lt;a href=&quot;https://github.com/z3nth10n/z3nth10n.github.io/blob/b9f7ef42e5fce33800aab80f8eabe6868b38f8e5/circle.yml#L54&quot;&gt;CircleCI.yml configuration here&lt;/a&gt;. The only thing remaining is to create the appropiate Context name, and then, create the required env vars:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.gyazo.com/3ad97b8e09ee7e05b8496f1cd631affa.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The &lt;code class=&quot;highlighter-rouge&quot;&gt;GOOGLE_PRIVATE_KEY&lt;/code&gt; value is the output from OpenSSL. You’ll need to execute the following command to get it from the &lt;code class=&quot;highlighter-rouge&quot;&gt;*.p12&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;openssl pkcs12 &lt;span class=&quot;nt&quot;&gt;-in&lt;/span&gt; filename.p12 &lt;span class=&quot;nt&quot;&gt;-clcerts&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-nodes&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-nocerts&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You’ll need to replace all the new lines characters by &lt;code class=&quot;highlighter-rouge&quot;&gt;\n&lt;/code&gt;. This can be easily done with Sublime Text 3 specifying the Regex options and the replacing &lt;code class=&quot;highlighter-rouge&quot;&gt;\n&lt;/code&gt; by &lt;code class=&quot;highlighter-rouge&quot;&gt;\\n&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;configuration&quot;&gt;Configuration&lt;/h2&gt;

&lt;p&gt;To configure &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-ga-v2&lt;/code&gt;, you need to specify some information about your Google Analytics service account (as set up above) and your report settings.&lt;/p&gt;

&lt;p&gt;Add the following block to your Jekyll site’s &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;####################&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Google Analytics #&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;####################&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;jekyll_ga&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;profileID&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ga:&amp;lt;user_id&amp;gt;&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# Profile ID &lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;last week&lt;/span&gt;          &lt;span class=&quot;c1&quot;&gt;# Beginning of report&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;now&lt;/span&gt;                  &lt;span class=&quot;c1&quot;&gt;# End of report&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;compare_period&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;      
  &lt;span class=&quot;na&quot;&gt;metrics&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ga:pageviews&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# Metrics code&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;dimensions&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ga:pagePath&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# Dimensions&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;segment&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;                  &lt;span class=&quot;c1&quot;&gt;# Optional&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;                  &lt;span class=&quot;c1&quot;&gt;# Optional&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;max_results&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;10000&lt;/span&gt;        &lt;span class=&quot;c1&quot;&gt;# Number of the maximum results get by the API&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;              &lt;span class=&quot;c1&quot;&gt;# Debug mode&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;profileID&lt;/code&gt; is the specific report profile from which you want to pull data. Find it by going to the report page in Google Analytics. Look at the URL. It will look something like &lt;code class=&quot;highlighter-rouge&quot;&gt;https://www.google.com/analytics/web/?hl=en&amp;amp;pli=1#report/visitors-overview/###########p######/&lt;/code&gt;. The number after the &lt;code class=&quot;highlighter-rouge&quot;&gt;p&lt;/code&gt; at the end of the URL is your &lt;code class=&quot;highlighter-rouge&quot;&gt;profileID&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;start&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;end&lt;/code&gt; indicate the time range of data you want to query. They are parsed using Ruby’s &lt;code class=&quot;highlighter-rouge&quot;&gt;Chronic&lt;/code&gt; gem, so you can include relative or absolute dates, such as &lt;code class=&quot;highlighter-rouge&quot;&gt;now&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;yesterday&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;last month&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;2 weeks ago&lt;/code&gt;. See &lt;a href=&quot;https://github.com/mojombo/chronic#examples&quot;&gt;Chronic’s documentation&lt;/a&gt; for more options.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;metrics&lt;/code&gt; value is what you want to measure from your Google Analytics data. Usually this will be &lt;code class=&quot;highlighter-rouge&quot;&gt;ga:pageviews&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;ga:visits&lt;/code&gt;, but it can be any metric available in Google Analytics. Specify only one. See the &lt;a href=&quot;http://ga-dev-tools.appspot.com/explorer/?csw=1&quot;&gt;Google Analytics Query Explorer&lt;/a&gt; to experiment with different metrics. (Your &lt;code class=&quot;highlighter-rouge&quot;&gt;dimension&lt;/code&gt; should always be &lt;code class=&quot;highlighter-rouge&quot;&gt;ga:pagePath&lt;/code&gt;). I recommend you the following string &lt;code class=&quot;highlighter-rouge&quot;&gt;ga:pageviews,ga:bounceRate,ga:sessions,ga:users,ga:newUsers&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;segment&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;filters&lt;/code&gt; keys are optional parameters for your query. See the &lt;a href=&quot;http://ga-dev-tools.appspot.com/explorer/?csw=1&quot;&gt;Google Analytics Query Explorer&lt;/a&gt; for a description of how to use them, or just leave them out.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;New params in v2:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If &lt;code class=&quot;highlighter-rouge&quot;&gt;compare_period&lt;/code&gt; is to true, then this will create two reports (&lt;strong&gt;example:&lt;/strong&gt; if start is set to “last month”, this will create one report from “end” to “start” and the second report its end will be at the start of the first report, with this data a comparation will be created).&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;do-you-need-to-automatize-this&quot;&gt;Do you need to automatize this?&lt;/h3&gt;

&lt;p&gt;Maybe you’re thinking that you’ll need to make a new push everytime you need to update your stats. And you’re right, but CircleCI comes here again for the rescue. All you need is to &lt;a href=&quot;https://circleci.com/docs/2.0/workflows/#nightly-example&quot;&gt;schedule a nightly build&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here is my own implementation on &lt;a href=&quot;https://github.com/z3nth10n/z3nth10n.github.io/blob/b9f7ef42e5fce33800aab80f8eabe6868b38f8e5/circle.yml#L56&quot;&gt;my CircleCI.yml configuration, again&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;na&quot;&gt;nightly&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;triggers&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;schedule&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;cron&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;*&quot;&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;na&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                        &lt;span class=&quot;na&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gh-pages-ci&lt;/span&gt;
                        &lt;span class=&quot;na&quot;&gt;ignore&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Google&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Analytics&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Sensitive&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Data&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Of course, you’ll need to specify the context again.&lt;/p&gt;

&lt;h3 id=&quot;need-help-for-examples&quot;&gt;Need help for examples?&lt;/h3&gt;

&lt;p&gt;Look at those two HTML files I created to render my settings:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;ni&quot;&gt;&amp;lt;div id=&quot;genstats&quot; class=&quot;col-md-3 align-sm-right vertical-margin order-xs-fourth col-xs-expand&quot;&amp;gt;
    &amp;lt;box class=&quot;both-offset expand-width&quot;&amp;gt;
        &amp;lt;p&amp;gt;
            &amp;lt;h3&amp;gt;Statistics&amp;lt;/h3&amp;gt;
            &amp;lt;p&amp;gt;(last {{ site.data.period }} days)&amp;lt;/p&amp;gt;
        &amp;lt;/p&amp;gt;

        {% for header in site.data.headers %}
        
            &amp;lt;p&amp;gt;
                {% assign hvalue = header.value | plus: 0 %}
                {{ hvalue | round }} {{ header.name }}
            &amp;lt;/p&amp;gt;
            &amp;lt;p class=&quot;sub&quot;&amp;gt;
                    {% if site.jekyll_ga.compare_period %}
                    (
                    last {{ site.data.period }} days: 
                    {% if header.value_perc != &quot;∞&quot; %}
                        {% assign perc = header.value_perc | plus: 0 %}

                        {% if perc &amp;gt; 0 %}
                            &amp;lt;i class=&quot;fas fa-arrow-up color-green&quot;&amp;gt;&amp;lt;/i&amp;gt;
                        {% elsif perc == 0 %}
                            &amp;lt;i class=&quot;fas fa-equals&quot;&amp;gt;&amp;lt;/i&amp;gt;
                        {% elsif perc &amp;lt; 0 %}
                            &amp;lt;i class=&quot;fas fa-arrow-down color-red&quot;&amp;gt;&amp;lt;/i&amp;gt;
                        {% endif %}

                        {{ perc | round }} % | 
                        
                        {% assign diff = header.diff_value %}
                        {% if diff &amp;gt; 0 %}+{% endif %}
                        {{ diff | round }} than last period
                    {% else %}
                    ∞ %    
                    {% endif %}
                    )
                {% endif %}
            &amp;lt;/p&amp;gt;

        {% endfor %}
    &amp;lt;/box&amp;gt;
&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This displays a box with the different metrics selected in your &lt;code class=&quot;highlighter-rouge&quot;&gt;metrics&lt;/code&gt; configuration parameter:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.gyazo.com/3105ff73fc023c5cf3506b9adcd63577.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I use this for any post:&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;ni&quot;&gt;{% if page.stats.pageviews != blank %}
    {% assign hvalue = header.value | plus: 0 %}
    {{ hvalue | round }} views
                
    {% if site.jekyll_ga.compare_period %}
        (
        last {{ site.data.period }} days: 
        {% if page.stats.pageviews_perc != &quot;∞&quot; %}
            {% assign perc = page.stats.pageviews_perc | plus: 0 %}

            {% if perc &amp;gt; 0 %}
                &amp;lt;i class=&quot;fas fa-arrow-up color-green&quot;&amp;gt;&amp;lt;/i&amp;gt;
            {% elsif perc == 0 %}
                &amp;lt;i class=&quot;fas fa-equals&quot;&amp;gt;&amp;lt;/i&amp;gt;
            {% elsif perc &amp;lt; 0 %}
                &amp;lt;i class=&quot;fas fa-arrow-down color-red&quot;&amp;gt;&amp;lt;/i&amp;gt;
            {% endif %}

            {{ perc | round }} % |
            
            {% assign diff = page.stats.diff_pageviews %}
            {% if diff &amp;gt; 0 %}+{% endif %}
            {{ diff | round }} than last period
        {% else %}
        ∞ %    
        {% endif %}
        )
    {% endif %}
    .
{% endif %}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It only displays &lt;code class=&quot;highlighter-rouge&quot;&gt;xx visits (percentage % | difference between two ranges)&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;issues&quot;&gt;Issues&lt;/h2&gt;

&lt;p&gt;Having issues? Just report in &lt;a href=&quot;https://github.com/uta-org/jekyll-ga-v2/issues&quot;&gt;the issue section&lt;/a&gt;. &lt;strong&gt;Thanks for the feedback!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Best regards!&lt;/strong&gt;&lt;/p&gt;
</description>
                    
                    <pubDate>Fri, 22 Mar 2019 01:35:00 +0000</pubDate>
                    <link>https://z3nth10n.github.io/en/2019/03/22/jekyll-ga-v2-plugin-to-get-google-analytics-data-into-your-site.html</link>
                    <guid isPermaLink="true">https://z3nth10n.github.io/en/2019/03/22/jekyll-ga-v2-plugin-to-get-google-analytics-data-into-your-site.html</guid>
                </item>
            
		
            
		
            
		
            
                <item>
                    <title>How To Use Any Jekyll Plugins on GitHub Pages with CircleCI</title>
                    
                    
                        <description>&lt;h2 id=&quot;jekyll-plugin-issue-with-github-pages&quot;&gt;Jekyll Plugin Issue with GitHub Pages&lt;/h2&gt;

&lt;p&gt;For this blog, I knew I wanted to be able to customize it and did not want to learn how to customize WordPress themes. The idea of using a static site generator like &lt;a href=&quot;https://jekyllrb.com&quot;&gt;Jekyll&lt;/a&gt; was appealing to me because I would not have to deal with a database. Also since &lt;a href=&quot;https://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt; hosts and automatically builds Jekyll sites, I would not have to deal with hosting. I went about installing Jekyll locally, created a starter blog site and pushed my changes to GitHub. &lt;a href=&quot;/&quot;&gt;z3nth10n.github.io&lt;/a&gt; was up and running quickly!&lt;/p&gt;

&lt;p&gt;Then I wanted to embed a YouTube link to a &lt;a href=&quot;/articles/virtues-of-great-programmers&quot;&gt;blog post&lt;/a&gt;. @joelverhagen posted a simple Jekyll YouTube Embed Plugin &lt;a href=&quot;https://gist.github.com/joelverhagen/1805814&quot;&gt;gist&lt;/a&gt;. I tested locally and it generated the blog post and site fine. But when GitHub Pages tried to build the static html files it failed with an &lt;code class=&quot;highlighter-rouge&quot;&gt;Liquid Exception: Unknown tag 'youtube'&lt;/code&gt; error message.&lt;/p&gt;

&lt;p&gt;Apparently and understandably, GitHub Pages does not allow any arbitrary plugin as part of their Jekyll build process; specifically, &lt;code class=&quot;highlighter-rouge&quot;&gt;bundle exec jekyll build —safe&lt;/code&gt; is ran. Instead GitHub Pages whitelists a limited set of Jekyll plugins listed &lt;a href=&quot;https://pages.github.com/versions/&quot;&gt;here&lt;/a&gt;, only 47 at the time of this writing. So if you want to use a plugin that is not yet officially supported, you will have to ask GitHub support to add it. Here is an &lt;a href=&quot;https://github.com/jekyll/jekyll/issues/325&quot;&gt;example&lt;/a&gt;: “Please please, whitelist jekyll-asciidoc plugin”. &lt;a href=&quot;http://jekyllrb.com/docs/plugins/&quot;&gt;Jekyll’s Plugin documentation page&lt;/a&gt; suggests this workaround:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You can still use GitHub Pages to publish your site, but you’ll need to convert the site locally and push the generated static files to your GitHub repository instead of the Jekyll source files.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The workaround is not as seamlessly as just simply pushing your branch to GitHub and having GitHub Pages automatically build the static site. I could had followed the suggestion and written a rake task to automate this locally but then I would have to remember to run the one extra command.&lt;/p&gt;

&lt;h2 id=&quot;taking-over-continuous-integration-with-circleci&quot;&gt;Taking Over Continuous Integration with CircleCI&lt;/h2&gt;

&lt;p&gt;Jekyll documentation has a neat example of &lt;a href=&quot;http://jekyllrb.com/docs/continuous-integration/&quot;&gt;Continuous Integration&lt;/a&gt; with &lt;a href=&quot;https://github.com/gjtorikian/html-proofer&quot;&gt;html-proofer&lt;/a&gt;. Running html-proofer will ensure that the html output will not have any broken links, images, etc. So I figured that I’d kill two birds with one stone and set up continuous integration on &lt;a href=&quot;https://circleci.com/&quot;&gt;CirleCI&lt;/a&gt;. It will both run html-proofer and build the static html files. The workflow:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Push to a special gh-pages-ci branch&lt;/li&gt;
  &lt;li&gt;CircleCI watches only the gh-pages-ci branch&lt;/li&gt;
  &lt;li&gt;Test site via html-proofer&lt;/li&gt;
  &lt;li&gt;Build the static html files&lt;/li&gt;
  &lt;li&gt;Push the static html files to the git master branch&lt;/li&gt;
  &lt;li&gt;This triggers GitHub Pages to update the site&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I chose to use the gh-pages-ci branch because I’ll likely use this technique for static html projects sites where GitHub Pages watches the gh-pages instead of master branch. The relevant scripts used in this workflow are below:&lt;/p&gt;

&lt;p&gt;The rake task in the Rakefile that runs html-proofer:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'html/proofer'&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:test&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bundle exec jekyll build&quot;&lt;/span&gt;
      &lt;span class=&quot;no&quot;&gt;HTML&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Proofer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;./_site&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ss&quot;&gt;check_html: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;ss&quot;&gt;only_4xx: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The script/build_html script that will build the Jekyll site and push it to the master git branch:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;c&quot;&gt;#!/bin/bash -ex&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;GIT_COMMIT_DESC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Setup git so we can use it&lt;/span&gt;
    git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; user.email &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;your email&amp;gt;&quot;&lt;/span&gt;
    git config &lt;span class=&quot;nt&quot;&gt;--global&lt;/span&gt; user.name &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;your username&amp;gt;&quot;&lt;/span&gt;
    
    &lt;span class=&quot;c&quot;&gt;# Remove changes from current gh-pages-ci branch&lt;/span&gt;
    git checkout &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt;
    git checkout master

    &lt;span class=&quot;c&quot;&gt;# Make sure that local master matches with remote master&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# CircleCI merges made changes to master so need to reset it&lt;/span&gt;
    git fetch origin master
    git reset &lt;span class=&quot;nt&quot;&gt;--hard&lt;/span&gt; origin/master

    &lt;span class=&quot;c&quot;&gt;# Gets _site/* files and pushes them to master branch&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Note: CircleCI creates vendor and .bundle files&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;mv &lt;/span&gt;_site /tmp/
    &lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; .bundle .sass-cache
    &lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; /tmp/_site/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
    git add &lt;span class=&quot;nt&quot;&gt;--all&lt;/span&gt;
    git commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$GIT_COMMIT_DESC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    git push origin master

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The circle.yml that is configured to only watch for changes in the gh-pages-ci branch:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;na&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;&amp;amp;defaults&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;working_directory&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;~/repo&lt;/span&gt;
    
&lt;span class=&quot;na&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*defaults&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;circleci/ruby:2.6.0-node&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;na&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gh-pages-ci&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;ignore&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;na&quot;&gt;BUNDLER_VERSION&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;2.0.1&lt;/span&gt;
            &lt;span class=&quot;na&quot;&gt;BUNDLE_PATH&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;~/repo/vendor/bundle&lt;/span&gt;
            &lt;span class=&quot;na&quot;&gt;GIT_COMMIT_DESC&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;git log -1 --pretty=%B&lt;/span&gt;
            &lt;span class=&quot;na&quot;&gt;JEKYLL_ENV&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;production&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;checkout&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;restore_cache&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rubygems-v1-{{  checksum &quot;Gemfile.lock&quot; }}&lt;/span&gt;
                    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rubygems-v1-fallback&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# If you have submodules maybe you need to uncomment this&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# - run:&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;#    name: Update Git submodules&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;#    command: git submodule update --init --recursive&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Bundle Pre Install&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gem install bundler:$BUNDLER_VERSION&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Bundle Install&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bundle check || bundle install&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Rake tests&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bundle exec rake&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;save_cache&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rubygems-v1-{{  checksum &quot;Gemfile.lock&quot; }}&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;vendor/bundle&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Jekyll build&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bundle exec jekyll build --trace&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Run Build HTML&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bash ~/repo/script/build_html &quot;`$GIT_COMMIT_DESC`&quot;&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;workflows&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;2&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;test-deploy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;build&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;one-circleci-gotcha&quot;&gt;One CircleCI Gotcha&lt;/h3&gt;

&lt;p&gt;CircleCI is great about being security conscientious. They set things up so that a deploy read-only ssh key is used to clone the repo. Since the build_html script above pushes to master at the end, you will need to add a key that has write access to the repo. This is a simple 1-click step in “Project Settings -&amp;gt; Permissions / Checkout SSH Keys”.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/blogs/circleci-checkout-ssh-keys.png&quot; alt=&quot;CircleCI Checkout SSH Keys&quot; title=&quot;CircleCI Checkout SSH Keys&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;summary-of-the-final-flow&quot;&gt;Summary of the Final Flow&lt;/h3&gt;

&lt;p&gt;All I have to do now to update the blog is make modifications to the gh-pages-ci branch and then run &lt;code class=&quot;highlighter-rouge&quot;&gt;git push&lt;/code&gt;. It was more work to set this all up than just having GitHub Pages build the Jekyll site but the site will always be checked by html-proofer now. And now I am also able to use any Jekyll plugin that I need! &lt;img class=&quot;emojione&quot; alt=&quot;👍&quot; src=&quot;https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png&quot; /&gt;&lt;/p&gt;
</description>
                    
                    <pubDate>Wed, 20 Mar 2019 12:00:00 +0000</pubDate>
                    <link>https://z3nth10n.github.io/en/2019/03/20/jekyll-plugin-issue-with-github-pages.html</link>
                    <guid isPermaLink="true">https://z3nth10n.github.io/en/2019/03/20/jekyll-plugin-issue-with-github-pages.html</guid>
                </item>
            
		
            
		
            
                <item>
                    <title>How to use Patreon in Jekyll (jekyll-patreon plugin tutorial)</title>
                    
                    
                        <description>&lt;p&gt;In this post I will explain how to use the plugin called &lt;strong&gt;jekyll-patreon&lt;/strong&gt;. I created this plugin to be able to implement a widget that shows information about our Patreon profile.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This plugin requires Ruby 2.5+ and Jekyll 3.8+&lt;/p&gt;

&lt;h2 id=&quot;what-is-this-used-for&quot;&gt;What is this used for?&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;A Jekyll plugin that adds Patreon support in your blog to easily embed a widget with goals&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;features&quot;&gt;Features&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Supports several designs: default, fancy, minimal, streamlined, reversed, swapped&lt;/li&gt;
  &lt;li&gt;Supports several colors: red, green, orange, red nostripes, green nostripes, orange nostripes, blue nostripes&lt;/li&gt;
  &lt;li&gt;Supports i18n (compatible with &lt;a href=&quot;https://github.com/vwochnik/jekyll-language-plugin&quot;&gt;jekyll-language-plugin&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;Supports Markdown on your Patreon goals&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;To see the possible styles &amp;amp;&amp;amp; designs navigate to the &lt;a href=&quot;https://github.com/uta-org/jekyll-patreon/tree/master/assets&quot;&gt;assets folder of the main repo&lt;/a&gt; where the screenshots are located&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;Add this line to your site’s Gemfile:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'jekyll-patreon'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Add this configuration to your _config.yml file:&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;####################&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Patreon Settings #&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;####################&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;patreon&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;design&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;default'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Supports the following desings: default, fancy, minimal, streamlined, reversed, swapped&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Example&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;title'&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;metercolor&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;green'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Supports the following colors: red, green, orange, red nostripes, green nostripes, orange nostripes, blue nostripes&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;toptext&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Example&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;text'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Text that appears in before the progress bar (optional)&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;bottomtext&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Example&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;bottom&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;text'&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Text that appears in after the progress bar (optional)&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;showgoaltext&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Display the goal text?&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;showbutton&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Display the &quot;Become a patron&quot; button?&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Your&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;here'&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;default_lang&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;en&quot;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# The default language to use (to avoid writing twice the same text from Patreon)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;usage&quot;&gt;Usage&lt;/h2&gt;

&lt;p&gt;Simply just put the following tag where you need this:&lt;/p&gt;

&lt;pre&gt;
   &lt;code&gt;
        {% patreon %}
   &lt;/code&gt;
&lt;/pre&gt;

&lt;h3 id=&quot;i18n&quot;&gt;i18n&lt;/h3&gt;

&lt;p&gt;To support languages just use &lt;a href=&quot;https://github.com/vwochnik/jekyll-language-plugin&quot;&gt;jekyll-language-plugin&lt;/a&gt; configuration. Or if you don’t use it, do the following steps.&lt;/p&gt;

&lt;p&gt;First, in your main index.html (or wherever you need the i18n support) declare the following lines:&lt;/p&gt;

&lt;pre&gt;&lt;code data-trim=&quot;&quot; class=&quot;yaml&quot;&gt;
–––
layout: &amp;lt;layout&amp;gt;
language: en
–––
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Or if you want to support several languages in the same page:&lt;/p&gt;

&lt;pre&gt;&lt;code data-trim=&quot;&quot; class=&quot;yaml&quot;&gt;
–––
layout: &amp;lt;layout&amp;gt;
languages:
- en
- es
–––
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then, in “_data/lang/” create one file for each lang.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Example: &lt;code class=&quot;highlighter-rouge&quot;&gt;en.yml&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;es.yml&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Then, write the translations of you goals like this:&lt;/p&gt;

&lt;pre&gt;&lt;code data-trim=&quot;&quot; class=&quot;yaml&quot;&gt;
#################
# Patreon Goals #
#################

patreon_goal_0: &quot;...&quot;
patreon_goal_1: &quot;...&quot;
patreon_goal_2: &quot;...&quot;
# etc etc...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There you will need to create as much translations as the number of goals that your Patreon page have. (&lt;strong&gt;Note:&lt;/strong&gt; starting index is 0 (zero))&lt;/p&gt;

&lt;h2 id=&quot;issues&quot;&gt;Issues&lt;/h2&gt;

&lt;p&gt;Having issues? Just report in &lt;a href=&quot;https://github.com/uta-org/jekyll-patreon/issues&quot;&gt;the issue section&lt;/a&gt;. &lt;strong&gt;Thanks for the feedback!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Best regards!&lt;/strong&gt;&lt;/p&gt;
</description>
                    
                    <pubDate>Tue, 19 Mar 2019 08:22:00 +0000</pubDate>
                    <link>https://z3nth10n.github.io/en/2019/03/19/jekyll-patreon-plugin-tutorial.html</link>
                    <guid isPermaLink="true">https://z3nth10n.github.io/en/2019/03/19/jekyll-patreon-plugin-tutorial.html</guid>
                </item>
            
		
            
                <item>
                    <title>Welcome to my blog!</title>
                    
                    
                        <description>&lt;h2 id=&quot;welcome-to-my-blog&quot;&gt;Welcome to my blog!&lt;/h2&gt;

&lt;p&gt;Since this is the first post of my blog, I will talk about what kind of topics I will post here.&lt;/p&gt;

&lt;p&gt;As I said in the presentation of the website, I’m a spanish developer since 2011.&lt;/p&gt;

&lt;p&gt;Consequently, the main topics that will be discussed here will be about the developmwnt of the projects I maintain at the moment. Also, I will post tutorials on the fly about doubts that arise me when I develop (that I could figure out). Either, I will post old doubts.&lt;/p&gt;

&lt;p&gt;Little by little and when I have time and ideas, I will post about other kind of topics (that come to my mind).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Best regards!&lt;/strong&gt;&lt;/p&gt;
</description>
                    
                    <pubDate>Tue, 19 Mar 2019 06:48:00 +0000</pubDate>
                    <link>https://z3nth10n.github.io/en/2019/03/19/welcome-to-my-blog.html</link>
                    <guid isPermaLink="true">https://z3nth10n.github.io/en/2019/03/19/welcome-to-my-blog.html</guid>
                </item>
            
		
            
		
	</channel>
</rss>